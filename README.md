# BOOK MEMO

読んだ本の情報や Udemy などで受けた講義の内容を忘れないようにしたいと思ってメモアプリを作成しようと思いました。
ただメモアプリだと面白みがないので、クイズを出題して復習効率を上げよと思いました。

まだ試作段階で機能とかは今後つけたしたりしていこうと考えていました。

## できること

- メモの登録
- 本の登録

## やりたいこと

- 忘却曲線に合わせて問題を出題できるようにする

## BD 構造

books にクイズの情報もまとめるか悩んだ。
クイズの stage を更新する際に重くなるかと思って分けた。第二階層まで検索をする必要がある
quiz の bookID を検索 => 本に登録されているクイズから quizID を検索 => stage 更新

一方 quizList に登録しているのであれば quizID から検索が可能。検索の幅が第一階層ですむ。
firebase の DB で複数階層に対して ID 検索ができるのであれば、本の情報をひとまとめにできる。
デメリットとしては、本ごとの出題をする場合、quiz 内の bookID で filter しなければならない

- books: 本の情報
- quizList: 本に紐づくクイズ
- schedule: 日毎に解くべきクイズを格納

## 忘却曲線の実装アイディア

- quiz に stage プロパティを設ける
- 問題をクリアしたら、stage を+1 する
- 問題をクリアしたら、2 の stage 乗後の schedule にクイズを登録
- 例えば、stage3 のクイズを正解した場合) 2 の 4 乗=8 日後の schedule に quiz を格納

## タスク

- クイズの制御
  - クイズの表示
  - クイズ解答後
    1. stage 更新
       stage を更新した際に stage の情報が入っているコンポーネントが再レンダリングされないようにする
       firebase への同期タイミングどうするか考える
    2. quizList にクイズを格納
       今日のクイズは全て確認できるようにする
       ただし今日のクイズの status は更新できないものとする
       isDone を flag にする
    3. 現在解答中のクイズを更新
    4. circle progress のステータスを更新
       クイズを答えた後に再度画面を開いても、その日の進捗状況が変わらないようにする
       例えば 30 問中 10 問解答して、画面を更新した場合
       OK) 11/30
       NG) 1/20
    5. 現在のクイズを切り替える
       swiper でフリックできるようにする？

## わからないこと

- firebase の更新タイミングどうするか。
  初回レンダリングの時に firebase のデータを store に格納するのはいいんだけど、state を更新するたびに firebase に push する必要があるのか？
